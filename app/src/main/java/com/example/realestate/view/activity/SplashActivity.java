package com.example.realestate.view.activity;import android.content.Intent;import android.content.res.Configuration;import android.content.res.Resources;import android.os.Build;import android.os.Bundle;import android.os.Handler;import android.util.DisplayMetrics;import android.view.WindowManager;import android.view.animation.AnimationUtils;import android.widget.ImageView;import androidx.appcompat.app.AppCompatActivity;import androidx.appcompat.app.AppCompatDelegate;import com.example.realestate.R;import com.wang.avi.AVLoadingIndicatorView;import java.util.Locale;import in.codeshuffle.typewriterview.TypeWriterView;import io.paperdb.Paper;public class SplashActivity extends AppCompatActivity {    private ImageView imgSpalshIconApp;    private TypeWriterView txtSplashAboutApp;    private AVLoadingIndicatorView aviSpalshLoading;    private final int SPLASH_DISPLAY_LENGTH = 4500;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate( savedInstanceState );        Boolean state = Paper.book().read( "Langauge", false );        getWindow().setFlags( WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN );        if (state == true) {            setAppLocal( "ar" );        } else if (state == false) {            setAppLocal( "en" );        }        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);        setContentView( R.layout.activity_splash );        imgSpalshIconApp = findViewById( R.id.imgSpalshIconApp );        txtSplashAboutApp = findViewById( R.id.txtSplashAboutApp );        aviSpalshLoading = findViewById( R.id.aviSpalshLoading );        imgSpalshIconApp.setAnimation( AnimationUtils.loadAnimation( this, R.anim.top_animtion ) );        txtSplashAboutApp.setDelay( 75 );        txtSplashAboutApp.setWithMusic( false );        txtSplashAboutApp.animateText( getString( R.string.about_app ) );        aviSpalshLoading.show();        new Handler().postDelayed( new Runnable() {            @Override            public void run() {                startActivity( new Intent( SplashActivity.this, MainActivity.class ) );                finish();            }        }, SPLASH_DISPLAY_LENGTH );    }    private void setAppLocal(String localCode) {        Resources res = getResources();        DisplayMetrics dm = res.getDisplayMetrics();        Configuration configuration = res.getConfiguration();        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1) {            configuration.setLocale( new Locale( localCode.toLowerCase() ) );        } else {            configuration.locale = new Locale( localCode.toLowerCase() );        }        res.updateConfiguration( configuration, dm );    }}